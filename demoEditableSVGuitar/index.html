<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EditableSVGuitarChord Local Demo</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="preload" href="./bundle.js" as="script" type="module">
  <style>
    body { font-family: system-ui, Arial, sans-serif; margin:20px; line-height:1.4; }
    h1 { margin-top:0; font-size:1.35rem; }
    .split { display:flex; gap:32px; flex-wrap:wrap; }
    .panel { flex:1 1 340px; min-width:300px; }
    .toolbar { display:flex; flex-wrap:wrap; gap:8px; margin:12px 0; }
    button { padding:6px 12px; border:1px solid #444; background:#f5f5f5; border-radius:4px; cursor:pointer; font-size:14px; }
    button.primary { background:#0d6efd; color:#fff; border-color:#0d6efd; }
    button.danger { background:#dc3545; color:#fff; border-color:#dc3545; }
     button:disabled { opacity:.55; cursor:not-allowed; }
     #output, #output-ascii, #output-unicode { font-family:monospace; background:#111; color:#0f0; padding:10px; border-radius:4px; font-size:12px; white-space:pre; max-height:220px; overflow:auto; line-height: 1; }
     .note { font-size:13px; color:#555; }
     .footer { margin-top:40px; font-size:12px; color:#666; }
     .tabs { display:flex; gap:0; margin-bottom:20px; border-bottom:2px solid #ddd; }
     .tabs button { border-radius:4px 4px 0 0; border-bottom:none; background:#f5f5f5; padding:8px 16px; }
     .tabs button.active { background:#fff; border-bottom:2px solid #fff; margin-bottom:-2px; font-weight:600; }
     #batch-converter, #interactive-editor { display:none; }
     #batch-converter.active , #interactive-editor.active { display:block; }
     #batch-input { width:100%; min-width:800px; height:300px; font-family:monospace; font-size:13px; line-height:1; padding:10px; border:1px solid #ccc; border-radius:4px; resize:vertical; }
     #chord-grid { display:flex; flex-wrap:wrap; gap:24px; margin-top:20px; }
     .chord-container { min-width:180px; flex:1 1 auto; max-width:220px; }
  </style>
  <script type="module" src="./bundle.js"></script>
</head>
<body>
  <h1>EditableSVGuitarChord Demo (Local svguitar)</h1>
  
  <div class="tabs">
    <button type="button" id="tab-editor" class="active">Interactive Editor</button>
    <button type="button" id="tab-batch">Batch Converter</button>
  </div>

  <div id="interactive-editor" class="active">
    <p class="note">
      Click empty fretboard positions to add dots; click existing dots to edit or remove them.
      The fretboard automatically adjusts to show all dots with one extra fret.
    </p>
    <div class="split">
      <div class="panel">
        <div id="editor"></div>
        <div class="toolbar">
          <button id="clear" type="button" class="danger">Clear</button>
        </div>
      </div>
      <div class="panel">
        <h2 style="margin-top:0;font-size:1.05rem;">Current Chord JSON</h2>
        <div id="output" aria-live="polite">{}</div>
        <div class="toolbar">
          <button id="copy-json" type="button">Copy JSON</button>
        </div>
      </div>
      <div class="panel">
        <h2 style="margin-top:0;font-size:1.05rem;">Current Chord ASCII</h2>
        <div id="output-ascii" aria-live="polite">{}</div>
        <div class="toolbar">
          <button id="copy-ascii" type="button">Copy ASCII</button>
        </div>
      </div>
      <div class="panel">
        <h2 style="margin-top:0;font-size:1.05rem;">Current Chord Unicode</h2>
        <div id="output-unicode" aria-live="polite">{}</div>
        <div class="toolbar">
          <button id="copy-unicode" type="button">Copy Unicode</button>
        </div>
      </div>
    </div>
  </div>

  <div id="batch-converter">
    <p class="note">
      Paste multiple chord diagrams in ASCII or Unicode format below. The converter will automatically split them and render each as an SVG chord diagram.
    </p>
    <textarea id="batch-input" placeholder="Paste chord diagrams here (ASCII or Unicode format)..."></textarea>
    <div class="toolbar">
      <button id="convert-btn" type="button" class="primary">Convert to SVG</button>
    </div>
    <div id="chord-grid"></div>
  </div>

  <div class="footer">
    Local demo bundling svguitar via esbuild. Use <code>npm run build</code> to refresh.
  </div>
</body>
</html>